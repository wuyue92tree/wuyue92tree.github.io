<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>系统初始化 | 资源客栈</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="GO AND BEYOND">
    <link rel="preload" href="/assets/css/0.styles.696438c8.css" as="style"><link rel="preload" href="/assets/js/app.a870adf0.js" as="script"><link rel="preload" href="/assets/js/2.8cb5b17e.js" as="script"><link rel="preload" href="/assets/js/12.4261461c.js" as="script"><link rel="prefetch" href="/assets/js/10.3aeabe06.js"><link rel="prefetch" href="/assets/js/11.4cbcbd9d.js"><link rel="prefetch" href="/assets/js/13.4eceefe6.js"><link rel="prefetch" href="/assets/js/14.0c7635ad.js"><link rel="prefetch" href="/assets/js/15.61de4f19.js"><link rel="prefetch" href="/assets/js/16.de801ecc.js"><link rel="prefetch" href="/assets/js/17.4f89c778.js"><link rel="prefetch" href="/assets/js/18.3c5778a7.js"><link rel="prefetch" href="/assets/js/19.eb3b8a6a.js"><link rel="prefetch" href="/assets/js/20.bdaaa403.js"><link rel="prefetch" href="/assets/js/21.009d60ad.js"><link rel="prefetch" href="/assets/js/22.146c7dc9.js"><link rel="prefetch" href="/assets/js/23.75a33d31.js"><link rel="prefetch" href="/assets/js/24.cd874762.js"><link rel="prefetch" href="/assets/js/25.71a9a698.js"><link rel="prefetch" href="/assets/js/26.43108dbd.js"><link rel="prefetch" href="/assets/js/27.b77ebbf4.js"><link rel="prefetch" href="/assets/js/28.5aec0f17.js"><link rel="prefetch" href="/assets/js/29.49461ca3.js"><link rel="prefetch" href="/assets/js/3.35b15324.js"><link rel="prefetch" href="/assets/js/30.528d2155.js"><link rel="prefetch" href="/assets/js/31.28fc852a.js"><link rel="prefetch" href="/assets/js/32.57e86b5c.js"><link rel="prefetch" href="/assets/js/33.103120b9.js"><link rel="prefetch" href="/assets/js/34.71ae33bc.js"><link rel="prefetch" href="/assets/js/35.2ead5d1b.js"><link rel="prefetch" href="/assets/js/36.fd21b995.js"><link rel="prefetch" href="/assets/js/37.ea06fbaa.js"><link rel="prefetch" href="/assets/js/38.9439ff58.js"><link rel="prefetch" href="/assets/js/39.aabecc99.js"><link rel="prefetch" href="/assets/js/4.5e700901.js"><link rel="prefetch" href="/assets/js/40.61b037a3.js"><link rel="prefetch" href="/assets/js/41.11a0c8d5.js"><link rel="prefetch" href="/assets/js/42.fe83be43.js"><link rel="prefetch" href="/assets/js/43.4afd9142.js"><link rel="prefetch" href="/assets/js/44.d2fc5c17.js"><link rel="prefetch" href="/assets/js/45.b90f7893.js"><link rel="prefetch" href="/assets/js/46.8a684ee9.js"><link rel="prefetch" href="/assets/js/47.d09afd14.js"><link rel="prefetch" href="/assets/js/48.ccc5997f.js"><link rel="prefetch" href="/assets/js/49.0bdbb547.js"><link rel="prefetch" href="/assets/js/5.3ae2ba50.js"><link rel="prefetch" href="/assets/js/50.56b63d2d.js"><link rel="prefetch" href="/assets/js/51.d78a0a6c.js"><link rel="prefetch" href="/assets/js/52.404c4a2c.js"><link rel="prefetch" href="/assets/js/53.dc578042.js"><link rel="prefetch" href="/assets/js/54.ea6d195d.js"><link rel="prefetch" href="/assets/js/55.f13b0a22.js"><link rel="prefetch" href="/assets/js/56.ba1700bf.js"><link rel="prefetch" href="/assets/js/57.2e0fdf3f.js"><link rel="prefetch" href="/assets/js/58.f7839aa0.js"><link rel="prefetch" href="/assets/js/59.eb067ede.js"><link rel="prefetch" href="/assets/js/6.c5f8be63.js"><link rel="prefetch" href="/assets/js/60.fc1fab66.js"><link rel="prefetch" href="/assets/js/61.7847aec8.js"><link rel="prefetch" href="/assets/js/62.b3941b2d.js"><link rel="prefetch" href="/assets/js/63.c6e66541.js"><link rel="prefetch" href="/assets/js/64.fd4f7091.js"><link rel="prefetch" href="/assets/js/65.1ea76be0.js"><link rel="prefetch" href="/assets/js/66.c99cb93b.js"><link rel="prefetch" href="/assets/js/67.ceacc996.js"><link rel="prefetch" href="/assets/js/68.b620b8f1.js"><link rel="prefetch" href="/assets/js/69.27feffbf.js"><link rel="prefetch" href="/assets/js/7.487605d3.js"><link rel="prefetch" href="/assets/js/70.883a98b8.js"><link rel="prefetch" href="/assets/js/71.3dde4be7.js"><link rel="prefetch" href="/assets/js/72.8aa742cd.js"><link rel="prefetch" href="/assets/js/73.1289946c.js"><link rel="prefetch" href="/assets/js/74.5568a47d.js"><link rel="prefetch" href="/assets/js/75.3bfbe16e.js"><link rel="prefetch" href="/assets/js/76.ae60dc52.js"><link rel="prefetch" href="/assets/js/77.01c5c399.js"><link rel="prefetch" href="/assets/js/8.d678c2b6.js"><link rel="prefetch" href="/assets/js/9.dde1e46a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.696438c8.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">资源客栈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术专栏</a></div><div class="nav-item"><a href="/collector/" class="nav-link">收藏家</a></div><div class="nav-item"><a href="/opensource/" class="nav-link">开源项目</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/wuyue92tree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="./img/avatar.png"> <div class="blogger-info"><h3>Yue.Wu</h3> <span>GO AND BEYOND</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/technology/" class="nav-link">技术专栏</a></div><div class="nav-item"><a href="/collector/" class="nav-link">收藏家</a></div><div class="nav-item"><a href="/opensource/" class="nav-link">开源项目</a></div><div class="nav-item"><a href="/categories/" class="nav-link">分类</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="/archives/" class="nav-link">归档</a></div> <a href="https://github.com/wuyue92tree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>DEVOPS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>LDAP统一认证</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>基于centos7打造个人服务器</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/77cad9/" class="sidebar-link">基础系统安装</a></li><li><a href="/pages/3b10c2/" aria-current="page" class="active sidebar-link">系统初始化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#创建普通用户并授权" class="sidebar-link">创建普通用户并授权</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#添加新用户" class="sidebar-link">添加新用户</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#添加sudo权限" class="sidebar-link">添加sudo权限</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#切换当前用户" class="sidebar-link">切换当前用户</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#修改主机名" class="sidebar-link">修改主机名</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#系统更新" class="sidebar-link">系统更新</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装网络工具" class="sidebar-link">安装网络工具</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#禁用无线网卡" class="sidebar-link">禁用无线网卡</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#配置静态ip" class="sidebar-link">配置静态IP</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#解决最大连接数限制" class="sidebar-link">解决最大连接数限制</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#升级内核" class="sidebar-link">升级内核</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#查看当前内核版本" class="sidebar-link">查看当前内核版本</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#启用elrepo仓库" class="sidebar-link">启用ELRepo仓库</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#查看可用的系统内核包" class="sidebar-link">查看可用的系统内核包</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装新的内核" class="sidebar-link">安装新的内核</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#查看当前系统已安装的所有内核版本" class="sidebar-link">查看当前系统已安装的所有内核版本</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#选择生效的内核版本" class="sidebar-link">选择生效的内核版本</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#删除旧内核版本" class="sidebar-link">删除旧内核版本</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装docker" class="sidebar-link">安装docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#升级内核-2" class="sidebar-link">升级内核</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#添加下载源" class="sidebar-link">添加下载源</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#查看所有仓库中所有docker版本-并选择特定版本安装" class="sidebar-link">查看所有仓库中所有docker版本，并选择特定版本安装</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装选定版本" class="sidebar-link">安装选定版本</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#设置开机启动" class="sidebar-link">设置开机启动</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#修改配置文件-配置镜像加速" class="sidebar-link">修改配置文件，配置镜像加速</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#docker免sudo处理" class="sidebar-link">docker免sudo处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装nfs服务" class="sidebar-link">安装nfs服务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#命令行执行安装" class="sidebar-link">命令行执行安装</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#修改配置文件" class="sidebar-link">修改配置文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装zsh作为默认shell" class="sidebar-link">安装zsh作为默认shell</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装pyenv" class="sidebar-link">安装pyenv</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#命令行执行安装-2" class="sidebar-link">命令行执行安装</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#将pyenv加入-zshrc中" class="sidebar-link">将pyenv加入~/.zshrc中</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#激活pyenv" class="sidebar-link">激活pyenv</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装python" class="sidebar-link">安装python</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#修改python默认源" class="sidebar-link">修改python默认源</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#通过yum安装supervisor" class="sidebar-link">通过yum安装supervisor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#命令行执行安装-3" class="sidebar-link">命令行执行安装</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#配置文件" class="sidebar-link">配置文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#dns服务器部署-bind9" class="sidebar-link">dns服务器部署（bind9）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#命令行执行安装-4" class="sidebar-link">命令行执行安装</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#配置文件-2" class="sidebar-link">配置文件</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#声卡配置" class="sidebar-link">声卡配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/3b10c2/#安装声卡调试软件" class="sidebar-link">安装声卡调试软件</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#将当前用户加入audio组" class="sidebar-link">将当前用户加入audio组</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#声卡输入设备" class="sidebar-link">声卡输入设备</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#声卡输入设备-2" class="sidebar-link">声卡输入设备</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#配置文件-3" class="sidebar-link">配置文件</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#声卡音量配置-alsamixer" class="sidebar-link">声卡音量配置 alsamixer</a></li><li class="sidebar-sub-header"><a href="/pages/3b10c2/#声卡测试" class="sidebar-link">声卡测试</a></li></ul></li></ul></li><li><a href="/pages/2e7ed2/" class="sidebar-link">Supervisor安装部署</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django技巧</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><a href="/technology/" title="技术专栏-目录页" data-v-33863c7e>技术专栏</a></li> <li data-v-33863c7e><a href="/technology//#DEVOPS" title="技术专栏#DEVOPS" data-v-33863c7e>DEVOPS</a></li> <li data-v-33863c7e><a href="/technology//#基于centos7打造个人服务器" title="技术专栏#基于centos7打造个人服务器" data-v-33863c7e>基于centos7打造个人服务器</a></li></ul> <div class="info" data-v-33863c7e><div title="作者" class="author iconfont icon-touxiang" data-v-33863c7e><a href="https://github.com/wuyue92tree" target="_blank" title="作者" class="beLink" data-v-33863c7e>Yue.Wu</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2020-03-01</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          系统初始化
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>系统初始化</p> <p>进行完基础系统安装后，我们已经得到了一台基础的服务器，下面我们就来安装一些基础服务，让我们的服务器用起来更方便吧~</p> <h2 id="创建普通用户并授权"><a href="#创建普通用户并授权" class="header-anchor">#</a> 创建普通用户并授权</h2> <p>普通用户权限受限，更有利于保证系统完整性，可靠性</p> <h3 id="添加新用户"><a href="#添加新用户" class="header-anchor">#</a> 添加新用户</h3> <p>此操作将会在系统<code>/home</code>目录创建一个与用户名同名的目录，作为用户的个人目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>adduser <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>
<span class="token function">passwd</span> <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="添加sudo权限"><a href="#添加sudo权限" class="header-anchor">#</a> 添加sudo权限</h3> <p>管理员用户，有权修改系统文件，但会给予提示，并在需要权限是，要求进行鉴权</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> -v u+w /etc/sudoers
<span class="token function">vim</span> /etc/sudoers
<span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>    <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>    ALL
<span class="token function">chmod</span> -v u-w /etc/sudoers
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="切换当前用户"><a href="#切换当前用户" class="header-anchor">#</a> 切换当前用户</h3> <p>在需要进行用户角色切换时，可通过如下方式实现</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">su</span> - <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span>

<span class="token comment">## 当需要切换到root用户时，你应该这样操作</span>
<span class="token function">sudo</span> <span class="token function">su</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="修改主机名"><a href="#修改主机名" class="header-anchor">#</a> 修改主机名</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> hostnamectl set-hostname <span class="token punctuation">[</span>主机名<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="系统更新"><a href="#系统更新" class="header-anchor">#</a> 系统更新</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum update
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="安装网络工具"><a href="#安装网络工具" class="header-anchor">#</a> 安装网络工具</h2> <p>网络工具能帮助我们定位和查看我们当前服务状态</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y net-tools bind-utils
<span class="token comment">## 查看网卡状态</span>
<span class="token function">sudo</span> <span class="token function">ifconfig</span>
<span class="token comment">## 查看tcp服务状态</span>
<span class="token function">sudo</span> <span class="token function">netstat</span> -tlnp
<span class="token comment">## 查看udp服务状态</span>
<span class="token function">sudo</span> <span class="token function">netstat</span> -ulnp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="禁用无线网卡"><a href="#禁用无线网卡" class="header-anchor">#</a> 禁用无线网卡</h2> <p>建议采用网线进行有线网络的连接，相对无线网络更为稳定可靠</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 通过禁用无线网卡驱动实现</span>
<span class="token function">sudo</span> <span class="token function">mv</span> /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -r<span class="token variable">)</span></span>/kernel/drivers/net/wireless /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -r<span class="token variable">)</span></span>/kernel/drivers/net/wireless.bk
<span class="token comment">## 恢复</span>

<span class="token function">sudo</span> <span class="token function">mv</span> /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -r<span class="token variable">)</span></span>/kernel/drivers/net/wireless.bk /lib/modules/<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -r<span class="token variable">)</span></span>/kernel/drivers/net/wireless
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="配置静态ip"><a href="#配置静态ip" class="header-anchor">#</a> 配置静态IP</h2> <p>静态ip配置能防止IP地址重新分配，导致服务器失联问题</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## sudo vi /etc/sysconfig/network-scripts/ifcfg-enp1s0 </span>

<span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.1.29   <span class="token comment">## 设置的静态IP地址</span>
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0    <span class="token comment">## 子网掩码</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1    <span class="token comment">## 网关地址</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">192.168</span>.1.1       <span class="token comment">## DNS服务器</span>
<span class="token assign-left variable">DNS2</span><span class="token operator">=</span><span class="token number">192.168</span>.1.29       <span class="token comment">## DNS服务器</span>
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span>stable-privacy
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>enp1s0
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>9faca0e6-5051-4a8e-9d34-6229c8f1d59e
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>enp1s0
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="解决最大连接数限制"><a href="#解决最大连接数限制" class="header-anchor">#</a> 解决最大连接数限制</h2> <p>linux在默认情况下只允许1024个连接请求</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">ulimit</span> -n
<span class="token comment">## 1024</span>
<span class="token comment">## 通过修改配置文件更改限制</span>
<span class="token function">sudo</span> <span class="token function">vi</span> /etc/security/limits.conf
<span class="token comment">## 在配置文件中加入如下配置，重启系统生效</span>

*       soft    nofile  <span class="token number">65535</span>
*       hard    nofile  <span class="token number">65535</span>
*       soft    nproc  <span class="token number">65535</span>
*       hard    nproc  <span class="token number">65535</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="升级内核"><a href="#升级内核" class="header-anchor">#</a> 升级内核</h2> <h3 id="查看当前内核版本"><a href="#查看当前内核版本" class="header-anchor">#</a> 查看当前内核版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">uname</span> -r
<span class="token comment">## 3.10.0-957.el7.x86_64</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="启用elrepo仓库"><a href="#启用elrepo仓库" class="header-anchor">#</a> 启用ELRepo仓库</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
sudo rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="查看可用的系统内核包"><a href="#查看可用的系统内核包" class="header-anchor">#</a> 查看可用的系统内核包</h3> <p>选择合适的长期维护内核版本进行安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sudo yum --disablerepo=&quot;*&quot; --enablerepo=&quot;elrepo-kernel&quot; list available

## Loaded plugins: fastestmirror
## Loading mirror speeds from cached hostfile
##  * elrepo-kernel: mirrors.neusoft.edu.cn
## elrepo-kernel                                                                                                                                           | 2.9 kB  00:00:00     
## elrepo-kernel/primary_db                                                                                                                                | 1.8 MB  00:00:00     
## Available Packages
## kernel-lt.x86_64                                                                       4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-devel.x86_64                                                                 4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-doc.noarch                                                                   4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-headers.x86_64                                                               4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-tools.x86_64                                                                 4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-tools-libs.x86_64                                                            4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-lt-tools-libs-devel.x86_64                                                      4.4.193-1.el7.elrepo                                                       elrepo-kernel
## kernel-ml.x86_64                                                                       5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-devel.x86_64                                                                 5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-doc.noarch                                                                   5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-headers.x86_64                                                               5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-tools.x86_64                                                                 5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-tools-libs.x86_64                                                            5.3.0-1.el7.elrepo                                                         elrepo-kernel
## kernel-ml-tools-libs-devel.x86_64                                                      5.3.0-1.el7.elrepo                                                         elrepo-kernel
## perf.x86_64   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="安装新的内核"><a href="#安装新的内核" class="header-anchor">#</a> 安装新的内核</h3> <p>这里我们选择一个长期维护内核版本进行安装</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum --enablerepo<span class="token operator">=</span>elrepo-kernel <span class="token function">install</span> kernel-lt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看当前系统已安装的所有内核版本"><a href="#查看当前系统已安装的所有内核版本" class="header-anchor">#</a> 查看当前系统已安装的所有内核版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">awk</span> -F<span class="token punctuation">\</span>' <span class="token string">'<span class="token variable">$1</span>==&quot;menuentry &quot; {print i++ &quot; : &quot; <span class="token variable">$2</span>}'</span> /etc/grub2.cfg
<span class="token comment">## or sudo awk -F\' '$1==&quot;menuentry &quot; {print i++ &quot; : &quot; $2}' /boot/efi/EFI/centos/grub.cfg</span>

<span class="token comment">## 0 : CentOS Linux (4.4.193-1.el7.elrepo.x86_64) 7 (Core)</span>
<span class="token comment">## 1 : CentOS Linux (3.10.0-957.27.2.el7.x86_64) 7 (Core)</span>
<span class="token comment">## 2 : CentOS Linux (3.10.0-957.el7.x86_64) 7 (Core)</span>
<span class="token comment">## 3 : CentOS Linux (0-rescue-35ff0ef975ee884aa7b1c6363da60fdb) 7 (Core)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="选择生效的内核版本"><a href="#选择生效的内核版本" class="header-anchor">#</a> 选择生效的内核版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> grub2-set-default <span class="token number">0</span>

<span class="token comment">## 重启系统使内核生效</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="删除旧内核版本"><a href="#删除旧内核版本" class="header-anchor">#</a> 删除旧内核版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 安装的内核不多于 3 个，yum-utils工具不会删除任何一个</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> yum-utils
<span class="token function">sudo</span> package-cleanup --oldkernels
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="安装docker"><a href="#安装docker" class="header-anchor">#</a> 安装docker</h2> <h3 id="升级内核-2"><a href="#升级内核-2" class="header-anchor">#</a> 升级内核</h3> <h3 id="添加下载源"><a href="#添加下载源" class="header-anchor">#</a> 添加下载源</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2
<span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="查看所有仓库中所有docker版本-并选择特定版本安装"><a href="#查看所有仓库中所有docker版本-并选择特定版本安装" class="header-anchor">#</a> 查看所有仓库中所有docker版本，并选择特定版本安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r

<span class="token comment">##  * updates: mirrors.163.com</span>
<span class="token comment">## Loading mirror speeds from cached hostfile</span>
<span class="token comment">## Loaded plugins: fastestmirror</span>
<span class="token comment">##  * extras: mirrors.163.com</span>
<span class="token comment">##  * elrepo: hkg.mirror.rackspace.com</span>
<span class="token comment">## docker-ce.x86_64            3:19.03.2-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:19.03.1-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:19.03.0-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.9-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.8-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.7-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.6-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.5-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.4-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.3-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.2-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.1-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            3:18.09.0-3.el7                     docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.06.3.ce-3.el7                    docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.06.2.ce-3.el7                    docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.06.1.ce-3.el7                    docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.06.0.ce-3.el7                    docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.03.1.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            18.03.0.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.12.1.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.12.0.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.09.1.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.09.0.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.06.2.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.06.1.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.06.0.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.03.3.ce-1.el7                    docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.03.2.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.03.1.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">## docker-ce.x86_64            17.03.0.ce-1.el7.centos             docker-ce-stable</span>
<span class="token comment">##  * base: mirrors.aliyun.com</span>
<span class="token comment">## Available Packages</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="安装选定版本"><a href="#安装选定版本" class="header-anchor">#</a> 安装选定版本</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 默认安装最新的stable版本</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce 
<span class="token comment">## 指定版本 18.09.9-3.el7</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-18.09.9-3.el7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="设置开机启动"><a href="#设置开机启动" class="header-anchor">#</a> 设置开机启动</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> systemctl start docker
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="修改配置文件-配置镜像加速"><a href="#修改配置文件-配置镜像加速" class="header-anchor">#</a> 修改配置文件，配置镜像加速</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## vi /etc/docker/daemon.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;registry-mirrors&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://0msvdakj.mirror.aliyuncs.com&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="docker免sudo处理"><a href="#docker免sudo处理" class="header-anchor">#</a> docker免sudo处理</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">groupadd</span> docker
<span class="token function">sudo</span> gpasswd -a <span class="token variable">${<span class="token environment constant">USER</span>}</span> docker
<span class="token function">sudo</span> systemctl restart docker
<span class="token comment">## 切换当前会话到新 group 或者重启 X 会话</span>
newgrp - docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="安装nfs服务"><a href="#安装nfs服务" class="header-anchor">#</a> 安装nfs服务</h2> <h3 id="命令行执行安装"><a href="#命令行执行安装" class="header-anchor">#</a> 命令行执行安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y nfs-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="修改配置文件"><a href="#修改配置文件" class="header-anchor">#</a> 修改配置文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>## vi /etc/sysconfig/nfs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="安装zsh作为默认shell"><a href="#安装zsh作为默认shell" class="header-anchor">#</a> 安装zsh作为默认shell</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y <span class="token function">zsh</span> <span class="token function">git</span>
<span class="token function">sh</span> -c <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh<span class="token variable">)</span></span>&quot;</span>
chsh -s /bin/zsh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="安装pyenv"><a href="#安装pyenv" class="header-anchor">#</a> 安装pyenv</h2> <h3 id="命令行执行安装-2"><a href="#命令行执行安装-2" class="header-anchor">#</a> 命令行执行安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">curl</span> -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="将pyenv加入-zshrc中"><a href="#将pyenv加入-zshrc中" class="header-anchor">#</a> 将pyenv加入~/.zshrc中</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>vi ~/.zshrc
export PATH=&quot;/home/wuyue/.pyenv/bin:$PATH&quot;
eval &quot;$(pyenv init -)&quot;
eval &quot;$(pyenv virtualenv-init -)&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="激活pyenv"><a href="#激活pyenv" class="header-anchor">#</a> 激活pyenv</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">source</span> ~/.zshrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="安装python"><a href="#安装python" class="header-anchor">#</a> 安装python</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>## 安装依赖
sudo yum install gcc zlib-devel bzip2 bzip2-devel readline-devel sqlite sqlite-devel openssl-devel tk-devel libffi-devel

pyenv install 3.7.4 -v

## 设置默认python版本

pyenv global 3.7.4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="修改python默认源"><a href="#修改python默认源" class="header-anchor">#</a> 修改python默认源</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mkdir</span> ~/.pip
<span class="token function">vi</span> ~/.pip/pip.conf

<span class="token punctuation">[</span>global<span class="token punctuation">]</span> 
index-url <span class="token operator">=</span> http://mirrors.aliyun.com/pypi/simple/ 
<span class="token punctuation">[</span>install<span class="token punctuation">]</span> 
trusted-host<span class="token operator">=</span>mirrors.aliyun.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="通过yum安装supervisor"><a href="#通过yum安装supervisor" class="header-anchor">#</a> 通过yum安装supervisor</h2> <h3 id="命令行执行安装-3"><a href="#命令行执行安装-3" class="header-anchor">#</a> 命令行执行安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> epel-release
<span class="token function">sudo</span> yum <span class="token function">install</span> -y supervisor
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 主配置文件 /etc/supervisord.conf</span>
<span class="token comment">## 子配置文件路径 /etc/supervisord.d/*.ini</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="dns服务器部署-bind9"><a href="#dns服务器部署-bind9" class="header-anchor">#</a> dns服务器部署（bind9）</h2> <h3 id="命令行执行安装-4"><a href="#命令行执行安装-4" class="header-anchor">#</a> 命令行执行安装</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token builtin class-name">bind</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="配置文件-2"><a href="#配置文件-2" class="header-anchor">#</a> 配置文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>## 主配置文件：/etc/named.conf
## 解析库文件：/var/named/


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="声卡配置"><a href="#声卡配置" class="header-anchor">#</a> 声卡配置</h2> <h3 id="安装声卡调试软件"><a href="#安装声卡调试软件" class="header-anchor">#</a> 安装声卡调试软件</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> alsa-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="将当前用户加入audio组"><a href="#将当前用户加入audio组" class="header-anchor">#</a> 将当前用户加入audio组</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 用于解决权限问题</span>
<span class="token function">sudo</span> gpassword -a <span class="token punctuation">[</span>用户名<span class="token punctuation">]</span> audio
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="声卡输入设备"><a href="#声卡输入设备" class="header-anchor">#</a> 声卡输入设备</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>aplay -l
<span class="token comment">## **** List of PLAYBACK Hardware Devices ****</span>
<span class="token comment">## card 0: PCH [HDA Intel PCH], device 0: ALC892 Analog [ALC892 Analog]</span>
<span class="token comment">##   Subdevices: 1/1</span>
<span class="token comment">##   Subdevice #0: subdevice #0</span>
<span class="token comment">## card 0: PCH [HDA Intel PCH], device 3: HDMI 0 [HDMI 0]</span>
<span class="token comment">##   Subdevices: 1/1</span>
<span class="token comment">##   Subdevice #0: subdevice #0</span>
<span class="token comment">## card 0: PCH [HDA Intel PCH], device 7: HDMI 1 [HDMI 1]</span>
<span class="token comment">##   Subdevices: 1/1</span>
<span class="token comment">##   Subdevice #0: subdevice #0</span>
<span class="token comment">## card 0: PCH [HDA Intel PCH], device 8: HDMI 2 [HDMI 2]</span>
<span class="token comment">##   Subdevices: 1/1</span>
<span class="token comment">##   Subdevice #0: subdevice #0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="声卡输入设备-2"><a href="#声卡输入设备-2" class="header-anchor">#</a> 声卡输入设备</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>arecord -l
**** List of CAPTURE Hardware Devices ****
card <span class="token number">0</span>: PCH <span class="token punctuation">[</span>HDA Intel PCH<span class="token punctuation">]</span>, device <span class="token number">0</span>: ALC892 Analog <span class="token punctuation">[</span>ALC892 Analog<span class="token punctuation">]</span>
  Subdevices: <span class="token number">1</span>/1
  Subdevice <span class="token comment">#0: subdevice #0</span>
card <span class="token number">1</span>: Device <span class="token punctuation">[</span>USB PnP Sound Device<span class="token punctuation">]</span>, device <span class="token number">0</span>: USB Audio <span class="token punctuation">[</span>USB Audio<span class="token punctuation">]</span>
  Subdevices: <span class="token number">1</span>/1
  Subdevice <span class="token comment">#0: subdevice #0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="配置文件-3"><a href="#配置文件-3" class="header-anchor">#</a> 配置文件</h3> <p>根据声卡输入、输出便有了如下的配置文件</p> <ul><li>输出 card 0,0</li> <li>输入 card 1,0</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## vi .asoundrc</span>

pcm.<span class="token operator">!</span>default <span class="token punctuation">{</span>
    <span class="token builtin class-name">type</span> asym
    playback.pcm <span class="token punctuation">{</span>
        <span class="token builtin class-name">type</span> plug
        slave.pcm <span class="token string">&quot;hw:0,0&quot;</span>
    <span class="token punctuation">}</span>
    capture.pcm <span class="token punctuation">{</span>
        <span class="token builtin class-name">type</span> plug
        slave.pcm <span class="token string">&quot;hw:1,0&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ctl.<span class="token operator">!</span>default <span class="token punctuation">{</span>
        <span class="token builtin class-name">type</span> hw
        card <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="声卡音量配置-alsamixer"><a href="#声卡音量配置-alsamixer" class="header-anchor">#</a> 声卡音量配置 alsamixer</h3> <h3 id="声卡测试"><a href="#声卡测试" class="header-anchor">#</a> 声卡测试</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 录入</span>
arecord -d <span class="token number">3</span> test.wav
<span class="token comment">## 播放</span>
aplay test.wav
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/wuyue92tree/edit/master/docs/01.技术专栏/01.DEVOPS/02.基于centos7打造个人服务器/02.系统初始化.md" target="_blank" rel="noopener noreferrer">帮我改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=centos" title="标签">#centos</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/02/04, 06:30:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/77cad9/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">基础系统安装</div></a> <a href="/pages/2e7ed2/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Supervisor安装部署</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/77cad9/" class="prev">基础系统安装</a></span> <span class="next"><a href="/pages/2e7ed2/">Supervisor安装部署</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/a3a305/"><div>docker-compose部署openldap</div></a> <span>12-30</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/9b2797/"><div>drf中如何设置返回Serializers自定义字段</div></a> <span>10-10</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/4c7c71/"><div>在admin中list_display如何展示外键字段</div></a> <span>10-10</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2017-2021
    <span>Yue.Wu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.a870adf0.js" defer></script><script src="/assets/js/2.8cb5b17e.js" defer></script><script src="/assets/js/12.4261461c.js" defer></script>
  </body>
</html>