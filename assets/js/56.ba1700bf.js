(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{475:function(a,e,t){"use strict";t.r(e);var r=t(12),s=Object(r.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",[a._v("介绍")]),a._v(" "),t("p",[a._v("Airflow是一个可编程，调度和监控的工作流平台，基于有向无环图(DAG)，airflow可以定义一组有依赖的任务，按照依赖依次执行。airflow提供了丰富的命令行工具用于系统管控，而其web管理界面同样也可以方便的管控调度任务，并且对任务运行状态进行实时监控，方便了系统的运维和管理。")]),a._v(" "),t("h1",[a._v("安装部署")]),a._v(" "),t("p",[a._v("helm官方chart："),t("a",{attrs:{href:"https://github.com/helm/charts/tree/master/stable/airflow"}},[a._v("https://github.com/helm/charts/tree/master/stable/airflow")])]),a._v(" "),t("h2",[a._v("版本信息")]),a._v(" "),t("pre",[t("code",[a._v("apiVersion: v1\ndescription: Airflow is a platform to programmatically author, schedule and monitor workflows\nname: airflow\nversion: 3.0.2\nappVersion: 1.10.3\nicon: https://airflow.apache.org/_images/pin_large.png\nhome: https://airflow.apache.org/\nmaintainers:\n  - name: gsemet\n    email: gaetan@xeberon.net\nsources:\n  - https://airflow.apache.org/\nkeywords:\n  - workflow\n  - dag")])]),a._v(" "),t("h2",[a._v("部署脚本")]),a._v(" "),t("pre",[t("code",[a._v('helm install --namespace "airflow" --name "airflow" stable/airflow')])]),a._v(" "),t("h2",[a._v("value.yaml")]),a._v(" "),t("pre",[t("code",[a._v("persistence:\n  enabled: true\n  # 若设置了默认storageClass，则无需指定\n  # storageClass: default\n"),t("p",[a._v("postgresql:\nenabled: true")]),a._v("\n"),t("h1",{attrs:{id:"若设置了默认storageclass-则无需指定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#若设置了默认storageclass-则无需指定"}},[a._v("#")]),a._v(" 若设置了默认storageClass，则无需指定")]),a._v("\n"),t("h1",{attrs:{id:"storageclass-default"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#storageclass-default"}},[a._v("#")]),a._v(" storageClass: default")]),a._v("\n"),t("h1",{attrs:{id:"经测试-以下方式不可用☹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#经测试-以下方式不可用☹"}},[a._v("#")]),a._v(" 经测试，以下方式不可用☹")]),a._v("\n"),t("h1",{attrs:{id:"不使用chart内置pg库-指定自建pg库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不使用chart内置pg库-指定自建pg库"}},[a._v("#")]),a._v(" 不使用chart内置pg库，指定自建pg库")]),a._v("\n"),t("h1",{attrs:{id:"enabled-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enabled-false"}},[a._v("#")]),a._v(" enabled: false")]),a._v("\n"),t("h1",{attrs:{id:"uri-postgresql-psycopg2-airflow-airflow-10-0-4-32-31759-airflow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uri-postgresql-psycopg2-airflow-airflow-10-0-4-32-31759-airflow"}},[a._v("#")]),a._v(" uri: postgresql+psycopg2://airflow:airflow@10.0.4.32:31759/airflow")])])]),a._v(" "),t("h2",[a._v("rancher服务状态")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://office.antio.top/wp-content/uploads/2019/06/airflow-0-300x98.png",alt:""}})]),a._v(" "),t("h2",[a._v("airflow dashboard")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://office.antio.top/wp-content/uploads/2019/06/airflow-1-300x169.png",alt:""}})]),a._v(" "),t("h1",[a._v("FAQ")]),a._v(" "),t("h2",[a._v("q")]),a._v(" "),t("pre",[t("code",[a._v('helm version\nClient: &version.Version{SemVer:"v2.13.1", GitCommit:"618447cbf203d147601b4b9bd7f8c37a5d39fbb4", GitTreeState:"clean"}\nServer: &version.Version{SemVer:"v2.14.0", GitCommit:"05811b84a3f93603dd6c2fcfe57944dfa7ab7fd0", GitTreeState:"clean"}\n'),t("p",[a._v('Error: validation failed: error validating "": error validating data: ValidationError(Deployment.spec.template.spec.containers[0].resources): unknown field "scheduler" in io.k8s.api.core.v1.ResourceRequirements')])])]),a._v(" "),t("h2",[a._v("a")]),a._v(" "),t("p",[a._v("在github上找到类似问题："),t("a",{attrs:{href:"https://github.com/helm/helm/issues/5750"}},[a._v("https://github.com/helm/helm/issues/5750")]),a._v("\n回滚 helm server 版本到v2.13.1")]),t("p")])}),[],!1,null,null,null);e.default=s.exports}}]);