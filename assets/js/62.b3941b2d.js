(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{452:function(s,a,n){"use strict";n.r(a);var e=n(12),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"系统信息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#系统信息"}},[s._v("#")]),s._v(" 系统信息")]),s._v(" "),n("ul",[n("li",[s._v("操作系统： centos7")]),s._v(" "),n("li",[s._v("架构：x86_64")]),s._v(" "),n("li",[s._v("数据库：mysql5.7")]),s._v(" "),n("li",[s._v("azkaban：3.81.0")])]),s._v(" "),n("h1",{attrs:{id:"节点说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#节点说明"}},[s._v("#")]),s._v(" 节点说明")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("192.168.1.81  主节点 azkaban-db & azkaban-web-server\n192.168.1.82  从节点 azkaban-exec-server\n192.168.1.83  从节点 azkaban-exec-server\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h1",{attrs:{id:"软件下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#软件下载"}},[s._v("#")]),s._v(" 软件下载")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://azkaban.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方地址"),n("OutboundLink")],1)]),s._v(" "),n("blockquote",[n("p",[s._v("下载链接：https://github.com/azkaban/azkaban/archive/3.81.0.tar.gz")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 下载完之后解压到/opt\n\nsudo mv 3.81.0.tar.gz /opt\ncd /opt\nsudo tar -xvf 3.81.0.tar.gz\n# 更改为自己的当前登录用户\nsudo chown -R centos:centos\n\n# drwxr-xr-x  24 centos       centos        4.0K Dec  6 04:06 azkaban-3.81.0\n# -rwxr-xr-x   1 centos       centos        20M Mar  2 09:33 azkaban-3.81.0.tar.gz\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h1",{attrs:{id:"安装jdk-1-8-0"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装jdk-1-8-0"}},[s._v("#")]),s._v(" 安装jdk 1.8.0")]),s._v(" "),n("p",[s._v("我这里因为和CDH主机部署在一起，所以直接使用的CDH的jdk，你也可以在java官方网站下载")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# https://archive.cloudera.com/cm6/6.3.1/redhat7/yum/RPMS/x86_64/oracle-j2sdk1.8-1.8.0+update181-1.x86_64.rpm\nsudo rpm -ivh oracle-j2sdk1.8-1.8.0+update181-1.x86_64.rpm\n\n\nexport JAVA_HOME=/usr/java/jdk1.8.0_181-cloudera\nexport PATH=$JAVA_HOME/bin:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h1",{attrs:{id:"部署mysql-connector"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署mysql-connector"}},[s._v("#")]),s._v(" 部署mysql-connector")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# https://cdn.mysql.com/archives/mysql-connector-java-5.1/mysql-connector-java-5.1.46.tar.gz\ntar -xvf mysql-connector-java-5.1.46.tar.gz\nsudo mkdir /usr/share/java\nsudo cp mysql-connector-java-5.1.46/mysql-connector-java-5.1.46.jar /usr/share/java/mysql-connector-java.jar\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h1",{attrs:{id:"创建数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库"}},[s._v("#")]),s._v(" 创建数据库")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("CREATE DATABASE azkaban DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci;\nGRANT ALL ON azkaban.* TO 'azkaban'@'%' IDENTIFIED BY 'azkaban123';\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h1",{attrs:{id:"mysql数据库配置设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库配置设置"}},[s._v("#")]),s._v(" mysql数据库配置设置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# sudo vi /etc/my.cnf\n\n[mysqld]\n...\nmax_allowed_packet=1024M\n\n# sudo systemctl restart mysqld\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h1",{attrs:{id:"编译"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译"}},[s._v("#")]),s._v(" 编译")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /opt/azkaban-3.81.0/\n./gradlew build\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h1",{attrs:{id:"初始化数据表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化数据表"}},[s._v("#")]),s._v(" 初始化数据表")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 主节点\ncd /opt/azkaban-3.81.0/azkaban-db/build/distributions\ntar -xvf azkaban-db-0.1.0-SNAPSHOT.tar.gz\n\n# 初始化表\n\nmysql> use azkaban;\nDatabase changed\nmysql> source /opt/azkaban-3.81.0/azkaban-db/build/distributions/azkaban-db-0.1.0-SNAPSHOT/create-all-sql-0.1.0-SNAPSHOT.sql;\nmysql> show tables;\n+-----------------------------+\n| Tables_in_azkaban           |\n+-----------------------------+\n| QRTZ_BLOB_TRIGGERS          |\n| QRTZ_CALENDARS              |\n| QRTZ_CRON_TRIGGERS          |\n| QRTZ_FIRED_TRIGGERS         |\n| QRTZ_JOB_DETAILS            |\n| QRTZ_LOCKS                  |\n| QRTZ_PAUSED_TRIGGER_GRPS    |\n| QRTZ_SCHEDULER_STATE        |\n| QRTZ_SIMPLE_TRIGGERS        |\n| QRTZ_SIMPROP_TRIGGERS       |\n| QRTZ_TRIGGERS               |\n| active_executing_flows      |\n| active_sla                  |\n| execution_dependencies      |\n| execution_flows             |\n| execution_jobs              |\n| execution_logs              |\n| executor_events             |\n| executors                   |\n| project_events              |\n| project_files               |\n| project_flow_files          |\n| project_flows               |\n| project_permissions         |\n| project_properties          |\n| project_versions            |\n| projects                    |\n| properties                  |\n| ramp                        |\n| ramp_dependency             |\n| ramp_exceptional_flow_items |\n| ramp_exceptional_job_items  |\n| ramp_items                  |\n| triggers                    |\n| validated_dependencies      |\n+-----------------------------+\n35 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br")])]),n("h1",{attrs:{id:"安装azkaban-executor-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装azkaban-executor-server"}},[s._v("#")]),s._v(" 安装Azkaban Executor Server")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 主节点分发编译好的azkaban-exec-server-0.1.0-SNAPSHOT.tar.gz\nscp /opt/azkaban-3.81.0/azkaban-exec-server/build/distributions/azkaban-exec-server-0.1.0-SNAPSHOT.tar.gz centos@192.168.1.82:~\nscp /opt/azkaban-3.81.0/azkaban-exec-server/build/distributions/azkaban-exec-server-0.1.0-SNAPSHOT.tar.gz centos@192.168.1.83:~\n\n# 从节点\ncd ~\nsudo tar -xvf azkaban-exec-server-0.1.0-SNAPSHOT.tar.gz -C /opt\nsudo mv /opt/azkaban-exec-server-0.1.0-SNAPSHOT /opt/azkaban-exec-server-3.81.0\nsudo chown -R centos:centos /opt/azkaban-exec-server-3.81.0\ncd /opt/azkaban-exec-server-3.81.0\n\nsudo cp conf/azkaban.properties conf/azkaban.properties.bk\nsudo vi conf/azkaban.properties # 见下方配置文件示例\n\n\n# 启动exec-server\n\n./bin/start-exec.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("配置文件示例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# Azkaban Personalization Settings\nazkaban.name=BigData\nazkaban.label=My Local Azkaban\nazkaban.color=#FF3601\nazkaban.default.servlet.path=/index\nweb.resource.dir=web/\ndefault.timezone.id=America/Los_Angeles\n# Azkaban UserManager class\nuser.manager.class=azkaban.user.XmlUserManager\nuser.manager.xml.file=conf/azkaban-users.xml\n# Loader for projects\nexecutor.global.properties=conf/global.properties\nazkaban.project.dir=projects\n# Velocity dev mode\nvelocity.dev.mode=false\n# Azkaban Jetty server properties.\njetty.use.ssl=false\njetty.maxThreads=25\njetty.port=8081\n# Where the Azkaban web server is located\nazkaban.webserver.url=http://192.168.1.81:8081\n# mail settings\nmail.sender=\nmail.host=\n# User facing web server configurations used to construct the user facing server URLs. They are useful when there is a reverse proxy between Azkaban web servers and users.\n# enduser -> myazkabanhost:443 -> proxy -> localhost:8081\n# when this parameters set then these parameters are used to generate email links.\n# if these parameters are not set then jetty.hostname, and jetty.port(if ssl configured jetty.ssl.port) are used.\n# azkaban.webserver.external_hostname=myazkabanhost.com\n# azkaban.webserver.external_ssl_port=443\n# azkaban.webserver.external_port=8081\njob.failure.email=\njob.success.email=\nlockdown.create.projects=false\ncache.directory=cache\n# JMX stats\njetty.connector.stats=true\nexecutor.connector.stats=true\n# Azkaban plugin settings\nazkaban.jobtype.plugin.dir=plugins/jobtypes\n# Azkaban mysql settings by default. Users should configure their own username and password.\ndatabase.type=mysql\nmysql.port=3306\nmysql.host=192.168.1.81\nmysql.database=azkaban\nmysql.user=azkaban\nmysql.password=azkaban123\nmysql.numconnections=100\n# Azkaban Executor settings\nexecutor.maxThreads=50\nexecutor.flow.threads=30\n# 设置executor端口\nexecutor.port=12321\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br")])]),n("h1",{attrs:{id:"激活exec"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#激活exec"}},[s._v("#")]),s._v(" 激活exec")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 激活时，必须通过该链接进行激活，不要直接修改数据库中executors表！！！\n# 否则任务将直接被kill，导致执行失败\nhttp://<从节点IP>:12321/executor?action=activate\nhttp://<从节点IP>:12321/executor?action=activate\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h1",{attrs:{id:"安装azkaban-web-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装azkaban-web-server"}},[s._v("#")]),s._v(" 安装Azkaban Web Server")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 主节点\nsudo tar -xvf /opt/azkaban-3.81.0/azkaban-web-server/build/distributions/azkaban-web-server-0.1.0-SNAPSHOT.tar.gz -C /opt/\nsudo mv /opt/azkaban-web-server-0.1.0-SNAPSHOT /opt/azkaban-web-server-3.81.0\nsudo chown -R centos:centos /opt/azkaban-web-server-3.81.0\n# 进入主目录\n# /opt/azkaban-web-server-3.81.0\n\n# 修改配置文件\ncp conf/azkaban.properties conf/azkaban.properties.bk\nvi conf/azkaban.properties # 见下方配置文件示例\n\n\n# 启动web-server\n\n./bin/start-web.sh\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("配置文件示例")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# Azkaban Personalization Settings\n# 名称\nazkaban.name=BigData\nazkaban.label=My Local Azkaban\nazkaban.color=#FF3601\nazkaban.default.servlet.path=/index\nweb.resource.dir=web/\n# 时区\ndefault.timezone.id=Asia/Shanghai\n# Azkaban UserManager class\nuser.manager.class=azkaban.user.XmlUserManager\nuser.manager.xml.file=conf/azkaban-users.xml\n# Loader for projects\nexecutor.global.properties=conf/global.properties\nazkaban.project.dir=projects\n# Velocity dev mode\nvelocity.dev.mode=false\n# Azkaban Jetty server properties.\njetty.use.ssl=false\njetty.maxThreads=25\njetty.port=8081\n# Azkaban Executor settings\n# mail settings\nmail.sender=\nmail.host=\n# User facing web server configurations used to construct the user facing server URLs. They are useful when there is a reverse proxy between Azkaban web servers and users.\n# enduser -> myazkabanhost:443 -> proxy -> localhost:8081\n# when this parameters set then these parameters are used to generate email links.\n# if these parameters are not set then jetty.hostname, and jetty.port(if ssl configured jetty.ssl.port) are used.\n# azkaban.webserver.external_hostname=myazkabanhost.com\n# azkaban.webserver.external_ssl_port=443\n# azkaban.webserver.external_port=8081\njob.failure.email=\njob.success.email=\nlockdown.create.projects=false\ncache.directory=cache\n# JMX stats\njetty.connector.stats=true\nexecutor.connector.stats=true\n# Azkaban mysql settings by default. Users should configure their own username and password.\ndatabase.type=mysql\nmysql.port=3306\nmysql.host=localhost\nmysql.database=azkaban\nmysql.user=azkaban\nmysql.password=azkaban123\nmysql.numconnections=100\n#Multiple Executor\nazkaban.use.multiple.executors=true\nazkaban.executorselector.filters=StaticRemainingFlowSize,MinimumFreeMemory,CpuStatus\nazkaban.executorselector.comparator.NumberOfAssignedFlowComparator=1\nazkaban.executorselector.comparator.Memory=1\nazkaban.executorselector.comparator.LastDispatched=1\nazkaban.executorselector.comparator.CpuUsage=1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);