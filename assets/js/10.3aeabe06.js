(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{424:function(t,e,a){"use strict";a.r(e);var r=a(12),o=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("通过ldap管理nexus3用户")]),t._v(" "),a("h2",{attrs:{id:"版本信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本信息"}},[t._v("#")]),t._v(" 版本信息")]),t._v(" "),a("ul",[a("li",[t._v("openldap: 2.4.50")]),t._v(" "),a("li",[t._v("phpLDAPadmin: 1.2.5")]),t._v(" "),a("li",[t._v("nexus3: OSS 3.19.1-01")])]),t._v(" "),a("h2",{attrs:{id:"nexus3配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nexus3配置"}},[t._v("#")]),t._v(" nexus3配置")]),t._v(" "),a("h3",{attrs:{id:"新增ldap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新增ldap"}},[t._v("#")]),t._v(" 新增ldap")]),t._v(" "),a("p",[t._v("创建ldap认证连接，填入ldap服务器相关信息及认证用户信息。点击 "),a("code",[t._v("verify connection")]),t._v("进行连接测试，连接成功的话，点击 "),a("code",[t._v("save")]),t._v("进行用户和用户组的配置")]),t._v(" "),a("ul",[a("li",[t._v("Name: ldap名称")]),t._v(" "),a("li",[t._v("LDAP server address: ldap连接协议、地址及端口")]),t._v(" "),a("li",[t._v("Search base DN: 搜索根节点")]),t._v(" "),a("li",[t._v("Authentication method: 认证方式（这里我采用的Simple Authenticaiton）")]),t._v(" "),a("li",[t._v("Username or DN: ldap用户dn")]),t._v(" "),a("li",[t._v("Password： ldap用户密码")]),t._v(" "),a("li",[t._v("Connection rules：连接规则")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_d5cb160bb99e8084b05ee28086471891.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_d5cb160bb99e8084b05ee28086471891.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"用户和用户组配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户和用户组配置"}},[t._v("#")]),t._v(" 用户和用户组配置")]),t._v(" "),a("p",[t._v("这里我使用"),a("code",[t._v("groupOfUniqueNames")]),t._v("作为分组，因此模板选择 "),a("code",[t._v("Generic Ldap Server")])]),t._v(" "),a("h4",{attrs:{id:"用户配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户配置"}},[t._v("#")]),t._v(" 用户配置")]),t._v(" "),a("ul",[a("li",[t._v("Configuration template：配置模板")]),t._v(" "),a("li",[t._v("User relative DN：用户目录相对DN（简单说就是在哪个ou下能找到你的用户）")]),t._v(" "),a("li",[t._v("User subtree: 基于用户目录查找用户")]),t._v(" "),a("li",[t._v("Object class: 用户objectClass")]),t._v(" "),a("li",[t._v("User filter：用户搜索过滤条件，比如通过memberOf进行过滤")]),t._v(" "),a("li",[t._v("User ID attribute: 用户ID对应ldap的字段")]),t._v(" "),a("li",[t._v("Real name attribute：用户RealName对应ldap的字段")]),t._v(" "),a("li",[t._v("Email attribute: 用户email对应ldap的字段")]),t._v(" "),a("li",[t._v("Password attribute：用户password对应ldap的字段")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_900685be972b5ed9885fd05e29e8cedb.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_900685be972b5ed9885fd05e29e8cedb.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"用户组配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户组配置"}},[t._v("#")]),t._v(" 用户组配置")]),t._v(" "),a("ul",[a("li",[t._v("Map LDAP groups as roles：是否启用ldap组和角色映射")]),t._v(" "),a("li",[t._v("Group type: 分组类型（动态和静态）\n"),a("ol",[a("li",[t._v("动态分组\n"),a("ol",[a("li",[t._v("Group member of attribute：用户组过滤属性\n"),a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_1c9bbfebcde614756211ce5422854140.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_1c9bbfebcde614756211ce5422854140.jpg",alt:""}}),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("静态分组\n"),a("ol",[a("li",[t._v("Group realtive DN: 用户组目录相对DN(相对于base DN)")]),t._v(" "),a("li",[t._v("Group subtree：基于用户组目录查找用户组")]),t._v(" "),a("li",[t._v("Group object class: 用户组objectClass")]),t._v(" "),a("li",[t._v("Group ID attribute：用户组ID对应ldap的字段")]),t._v(" "),a("li",[t._v("Group memeber attribute：用户组成员属性对应ldap的字段")]),t._v(" "),a("li",[t._v("Group memeber format：用户组成员format\n"),a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_97c57cc7fc0caa44753ebe7dc0c59383.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_97c57cc7fc0caa44753ebe7dc0c59383.jpg",alt:""}}),a("OutboundLink")],1)])])])])])]),t._v(" "),a("p",[t._v("完成用户及用户组配置之后，点击"),a("code",[t._v("verify user mapping")]),t._v("进行用户及用户组验证，结果如下\n"),a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_0bb1349aa9a22e2b1b60e28cf3b04b79.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_0bb1349aa9a22e2b1b60e28cf3b04b79.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"角色和ldap用户组绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#角色和ldap用户组绑定"}},[t._v("#")]),t._v(" 角色和ldap用户组绑定")]),t._v(" "),a("h4",{attrs:{id:"在nexus3中创建绑定ldap角色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在nexus3中创建绑定ldap角色"}},[t._v("#")]),t._v(" 在nexus3中创建绑定ldap角色")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_95d1e37fd0e3b16a160469c361970a2f.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_95d1e37fd0e3b16a160469c361970a2f.jpg",alt:""}}),a("OutboundLink")],1),t._v("\n通过加载ldap用户组的进行角色绑定及权限分配\n"),a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_81a1cc1cde2cfbcf2c321ed934eb4ec3.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_81a1cc1cde2cfbcf2c321ed934eb4ec3.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"在nexus3中查看ldap用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在nexus3中查看ldap用户"}},[t._v("#")]),t._v(" 在nexus3中查看ldap用户")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_70c7f90b19e361c747611c494720c96a.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_70c7f90b19e361c747611c494720c96a.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"ldap配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ldap配置"}},[t._v("#")]),t._v(" ldap配置")]),t._v(" "),a("h3",{attrs:{id:"groupofuniquenames组对应nexus3中加载的各用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#groupofuniquenames组对应nexus3中加载的各用户组"}},[t._v("#")]),t._v(" groupOfUniqueNames组对应nexus3中加载的各用户组")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_44a00a15ff12e4acdff02a62a96dd8aa.jpg",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://www.antio.top/wp-content/uploads/2021/01/wp_editor_md_44a00a15ff12e4acdff02a62a96dd8aa.jpg",alt:""}}),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),a("ol",[a("li",[t._v("使用ldap中创建的用户登录nexus3;")]),t._v(" "),a("li",[t._v("验证nexus3用户权限;")]),t._v(" "),a("li",[t._v("更新ldap用户权限，验证nexus3用户权限是否更新。")])])])}),[],!1,null,null,null);e.default=o.exports}}]);